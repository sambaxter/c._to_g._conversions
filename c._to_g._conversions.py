#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
Created on Fri Jan 25 16:43:48 2019

@author: samantha
"""

x = """c.-82G>C
g.78,056,048_78,094,854delins14bp
c.-32-13T>G
c.-32-3C>A
c.-32-3C>G
c.-32-2A>G
c.1A>T
c.1A>G
c.2T>C
c.3G>A
c.18_25del
c.25delT
c.32G>A
c.54C>T
c.118C>T
c.136T>C
c.148_859-11del
c.172C>T
c.186_196dup
c.199G>A
c.221G>A
c.236_246del
c.241C>T
c.258dupC
c.266G>A
c.271G>A
c.271del
c.307T>C
c.307T>G
c.309C>A
c.324C>T
c.323G>A
c.340_341insT
c.343C>T
c.363G>A
c.352C>T
c.377G>A
c.379_380del
c.380G>T
c.399C>A
c.378G>A
c.421C>A
c.424_440del
c.447G>A
c.444C>G
c.460_465del6
c.461G>C
c.461_469del
c.482_483del
c.483dup
c.503G>A
c.503G>C
c.506T>C
c.510C>T
c.525delT
c.525_526delTG
c.532C>T
c.533G>A
c.546G>A
c.546G>T
c.546G>C
c.546+1G>T
c.546+2T>C
c.546+2_5deltggg
c.546+5G>T
c.546+24G>A
c.546+45G>C
c.547-67C>G
c.547-39T>G
c.547-4C>G
c.569G>A
c.572A>G
c.573C>A
c.596G>A
c.623T>C
c.634G>T
c.642C>T
c.650C>T
c.655G>A
c.658G>T
c.664G>A
c.668A>G
c.670C>T
c.671G>C
c.671G>A
c.685_686insCGGC
c.692+1G>C
c.692+1G>A
c.692+5G>T
c.693-49C>T
c.701C>G
c.701C>A
c.710C>T
c.716del
c.719T>C
c.722_723del
c.725C>T
c.737T>G
c.742delC
c.743T>G
c.743T>C
c.752C>T
c.761C>T
c.763C>T
c.766_785delinsC
c.768dupT
c.776G>T
c.784G>A
c.794delG
c.796C>T
c.811A>G
c.827_845del
c.828_850del
c.836G>A

c.852G>A
c.853C>T
c.854C>G
c.858+2T>A
c.858+5ins7
c.858+6G>A
c.858+8_858+14del
c.858+9_858+15del
c.858+18insG
c.858+21C>G
c.858+24ins7
c.858+30T>C
c.858+37C>T
c.859-2A>T
c.861C>T
c.868A>G
c.871C>T
c.872T>A
c.872T>C
c.875A>G
c.877G>A
c.885C>G
c.893A>C
c.896T>G
c.896T>C
c.915G>A
c.921A>T
c.917C>T
c.923A>C
c.923A>T
c.925G>A
c.929T>G
c.935T>G
c.947A>T
c.953T>C
c.955ins21
c.953T>A
c.955+2T>G
c.955+12A>G
c.956-84T>C
c.971C>T
c.988T>G
c.998C>A
c.989G>A
c.1000G>A
c.1003G>A
c.1004G>A
c.1040C>G
c.1048G>A
c.1051delG
c.1062C>G
c.1064T>C
c.1075G>A
c.1075G>T
c.1075+13C>T
c.1076-22T>G
c.1076-1G>A
c.1076-1G>C
c.1080C>G
c.1082C>T
c.1099T>C
c.1100G>A
c.1106T>C
c.1115A>T
c.1118T>G
c.1120T>C
c.1124G>T
c.1124G>A
c.1128_1129delinsC
c.1129G>C
c.1134C>G
c.1143delC
c.1157dup
c.1156C>T
c.1165delG
c.1171A>G
c.1190C>T
c.1192dup
c.1194+2T>A
c.1194+2T>C
c.1194+5G>A
c.1195-44G>A
c.1195-19_2190-17del
c.1195-15G>A
c.1195-8G>A
c.1195-2A>G
c.1197_1208del10
c.1202A>G
c.1203A>G
c.1204T>C
c.1209delC
c.1209C>G
c.1210G>A
c.1211A>G
c.1214T>C
c.1222A>G
c.1229C>T
c.1239C>G
c.1256A>T
c.1286A>G
c.1280T>C
c.1291_1299del
c.1293_1312del
c.1297C>A
c.1309C>T
c.1315_1317del
c.1310G>A
c.1316T>A
c.1324G>A
c.1326+1G>A
c.1326+5G>A
c.1327-18G>A
c.1327-2A>G
c.1331C>G
c.1333G>C
c.1354_1372del19
c.1355del
c.1364A>C
c.1364A>T
c.1369del
c.1370C>T
c.1370C>A
c.1371delC
c.1373A>G
c.1373_1375del
c.1374C>T
c.1375G>A
c.1381G>A
c.1385T>C
c.1396delG
c.1396G>T
c.1397T>G
c.1408_1410del
c.1411_1414del
c.1432G>A
c.1437G>C
c.1437G>A
c.1437+1G>A
c.1437+2T>C
c.1437+4G>C
c.1438-19C>G
c.1438-2A>G
c.1438-1G>C
c.1438-1G>T
c.1441del
c.1441T>C
c.1442G>A
c.1445C>T
c.1445C>G
c.1447G>A
c.1448G>T
c.1456G>C
c.1456_1468del
c.1460T>C
c.1465G>A
c.1466A>G
c.1465G>T
c.1478C>T
c.1495T>A
c.1496G>A
c.1497G>A
c.1504A>G
c.1509_1511del
c.1540G>C
c.1548G>A
c.1544T>A
c.1551+1G>C
c.1551+1G>T
c.1551+1G>A
c.1551+3_1551+6delaagt
c.1551+2T>G
c.1551+42G>A
c.1551+49A>C
c.1551+49A>T
c.1552-3C>G
c.1555A>G
c.1556T>C
c.1561G>C
c.1561G>A
c.1562A>T
c.1564C>G
c.1564C>A
c.1564C>T
c.1568C>A
c.1574T>A
c.1581A>G
c.1585_1586TC>GT
c.1591dupG
c.1626C>G
c.1634C>T
c.1636+1G>C
c.1636+5G>T
c.1636+5G>C
c.1637-2A>G
c.1642G>T
c.1645G>A
c.1645G>C
c.1655T>C
c.1650dup
c.1654delC
c.1666A>G
c.1669A>T
c.1672T>A
c.1673G>C
c.1687C>T
c.1694_1697delTCTC
c.1696T>C
c.1703A>T
c.1704C>G
c.1705dup
c.1710C>G
c.1716C>G
c.1717A>C
c.1724A>C
c.1719C>A
c.1724A>G
c.1725C>A
c.1726G>A
c.1726G>C
c.1727G>A
c.1735G>A
c.1748C>T
c.1754G>T
c.1754G>A
c.1754+12A>G
c.1754+1G>A
c.1754+2T>A
c.1754+16C>T
c.1760T>C
c.1755-1G>A
c.1771C>T
c.1776del
c.1781G>C
c.1781G>A
c.1796C>A
c.1798C>T
c.1799G>A
c.1799G>T
c.1802C>A
c.1802C>G
c.1802C>T
c.1804A>G
c.1814G>A
c.1819_1836del
c.1820G>A
c.1822C>T
c.1824_1828dupATACG
c.1826dup
c.1827del
c.1827C>G
c.1829C>T
c.1830C>T
c.1832G>A
[c.1833_1839del;c.1846G>T;c.1847_1848insT]
c.1834C>T
c.1836C>G
c.1841C>A
c.1843G>A
c.1846G>A
c.1848dup
c.1850T>C
c.1856G>A
c.1857C>G
c.1872C>T
c.1879T>C
c.1880C>T
c.1886C>T
c.1888+1G>A
c.1888+21G>A
c.1889-27_2040+23del
c.1905C>A
c.1912G>T
c.1913G>T
c.1917G>A
c.1920T>G
c.1921C>G
c.1923G>A
c.1924G>T
c.1927G>A
c.1930_1936dup
c.1930G>C
c.1933G>C
c.1933G>A
c.1933G>T
c.1935C>A
c.1936_1937insGCCGACG
c.1941C>G
c.1942G>A
c.1943G>A
c.1951_1952delinsT
c.1958C>A
c.1960T>C
c.1962_1964del
c.1971G>A
c.1978C>T
c.1979G>A
c.1981T>G
c.1987del
c.2012T>G
c.1993G>A
c.2012T>A
c.2014C>T
c.2015G>A
c.2024_2026del
c.2040+1G>T
c.2040G>A
c.2040+12G>A
c.2040+20G>A
c.2040+20G>T
c.2040+22G>T
c.2041-64A>G
c.2041-64del
c.2041-2A>C
c.2041-1G>A
c.2045A>G
c.2055C>A
c.2061C>T
c.2065G>A
c.2066_2070dup
c.2097_2102del
c.2078dup
c.2104C>T
c.2105G>A
c.2105G>T
c.2132C>G
c.2114T>C
c.2133A>G
c.2135T>C
c.2136_2137del
c.2140del
c.2152G>A
c.2154C>T
c.2161dupG
c.2161G>T

c.2171C>A
c.2173C>T
c.2174G>C

c.2185delC
c.2188G>T
c.2189+1G>A
c.2189+3G>C
c.2189+459_3405del
c.2190-53C>G
c.2210C>A
c.2219_2220delTG

c.2227C>A
c.2227C>T
c.2228A>G
c.2236T>G
c.2236T>C
c.2237G>C
c.2237G>A
c.2238G>C
c.2238G>A
c.2242dup
c.2242G>T
c.2255_2257del
c.2269C>T
c.2274dup
c.2276G>C
c.2281delGinsAT
c.2284G>A
c.2297A>G
c.2298_2301delinsAAAGTA
c.2300delT
c.2303C>G
c.2303C>T
c.2314T>C
c.2322_2323insGGTGAGTCTGCAAACGGGGAGT
c.2326C>T
c.2331+2T>C
c.2331+1G>A
c.2331+2T>A
c.2331+4A>G
c.2331+20A>G
c.2331+24C>T
c.2338A>G
c.2357dupT
c.2373_2376delinsTGCTCA
c.2380del
c.2385delG
c.2408_2426del
c.2395C>G
c.2407_2412del7?
c.2431delC
c.2431dup
c.2432delT
c.2446G>A
c.2439dup
c.2456G>C
c.2481+2T>C
c.2481+1G>A
c.2481+102_2646+31del
c.2495_2496delCA
c.2501_2502del
c.2528T>C
c.2530_2541del
c.2553A>G
c.2560C>T
c.2600_2604delinsA
c.2604delG
c.2608C>T
c.2639C>A
c.2646_2646+1delTG
c.2646+2T>A
c.2646+39G>A
c.2647-20T>G
c.2647-7G>A
c.2662G>T
c.2702T>A
c.2707_2709del
c.2706delG
c.2724C>G
c.2738C>G
c.2744A>C
c.2746G>T
c.2741delinsGAC
c.2758_2775dup
c.2770T>C
c.2783A>G
c.2780C>T
c.2799+4G>A
c.2800-60A>G
c.2800-4T>G
c.2804T>C
c.2808C>T
c.2812_2813delTG
c.2815_2816del
c.2842insT
c.2846T>A
c.2859G>A(*3)
c.*16T>A
c.*91G>A
c.*140del
c.*143C>T
c.*154insG
c.*227G>C
c.*223C>T
c.*418T>C
c.1356delC
Multiple exon Deletion
c.722_723delTT
c.1157dupA
c.1195-18_2190-20del
c.1292_1295dupTGCA
c.1650dupG
c.1657C>T
c.1826dupA
c.1827delC
c.2222_*549+214delins13
c.2439dupC
c. 2495_2496delCA
c.2544delC
c.40_47delGCCGTCTG
c.684dupG
c.947A>G
c.1402A>T
c.1538G>A
c.1844G>A
c.1913G>A
c.2017A>T
c.2234T>C
c.2294G>A
c.2453T>C
c.2474C>G
c.2537C>A
"""

import requests
import pprint

hgvs_list = x.split("\n")

hgvs_clean_list = []
i = 0
for hgvs in hgvs_list:
    if not hgvs.startswith("c."):
        continue

    hgvs_clean_list.append(hgvs)

print(len(hgvs_list))
print(len(hgvs_clean_list))


for hgvs_from_clean_list in hgvs_clean_list:
    #print("=" * 100)
    #print(hgvs)
    response = requests.get("https://grch37.rest.ensembl.org/vep/human/hgvs/ENST00000302262:"+hgvs_from_clean_list, headers={"Content-Type": "application/json"})
    
    
    r = response.json()
    if isinstance(r, list) and len(r) >= 1:
        for transcript_record in r:
            output_row = ""
            output_row += hgvs_from_clean_list
            output_row += "\t"
            output_row += transcript_record.get('seq_region_name')
            output_row += "\t"
            output_row = output_row + str(transcript_record.get('start'))
            
            alleles = transcript_record.get('allele_string').split("/")

            output_row += "\t"
            output_row += alleles[0]
            output_row += "\t"
            output_row += alleles[1]
            print(output_row)
    else:
        #pprint.pprint(r)
        continue
    
#    for value in response.json():
#        print(value)
#        
#        print("\t".join([
#                value.get('seq_region_name'), 
#                value.get('start')
#        ] + value.get('allele_string').split("/")))

#import pprint
    
#pprint.pprint(response.json('start') )
#print("Done")
    
    
    
#print(hgvs_list)


